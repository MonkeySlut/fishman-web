document.getElementById("terminal").focus();const xLogoScale=15,yLogoScale=8,xWaveScale=5,yWaveScale=5,arrArgs=["--modules","-m","--pm","--deps","--dev","--t"];var windowWidth=window.innerWidth,windowHeight=window.innerHeight,sitelogo=document.getElementById("fishmanLogo"),wave=document.getElementById("wave");document.onmousemove=function(e){var r=e.pageX/(windowWidth/2)-1,n=e.pageY/(windowHeight/2)-1,o=15*r/2,t=8*n/2,a=5*r/2*-1,i=5*n/2*-1;sitelogo.style.transform="translate("+o+"px, "+t+"px)",wave.style.backgroundPositionX=a+"px",wave.style.backgroundPositionY="calc(100% + ("+i+"px))"};var printProgress=function(e,r){if(r<=100){var n,o=e.cols()-10,t=Math.round(o*r/100),a="",i="";for(n=t;n--;)i+="#";for(n=o-t;n--;)a+="-";e.set_prompt("["+i+a+"] "+r+"%"),100==r&&e.set_prompt("> fishman ")}};const getFileName=function(){const e=new Date;return`${`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}_${`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}.tar`};var downloadFileFromBlob=function(){var e=document.createElement("a");return document.body.appendChild(e),e.style="display: none",function(r,n){var o=new Blob(r,{type:"octet/stream"}),t=window.URL.createObjectURL(o);e.href=t,e.download=n,e.click(),window.URL.revokeObjectURL(t)}}();$("#terminal").terminal(function(e,r){var n=io.connect(),o=0;if(fileBuffer=[],n.on("finalDownloadToClientMD",function(e){ss(n).on("finalDownloadToClient",function(n){n.on("data",function(n){o+=n.length,fileBuffer.push(n);var t=(o/e*100).toFixed(2);printProgress(r,t)}),n.on("end",function(){printProgress(r,100);var e=new Uint8Array(o),n=0;fileBuffer.forEach(function(r){for(var o=0;o<r.length;o++)e[n]=r[o],n++}),downloadFileFromBlob([e],getFileName())})})}),n.on("criticalError",function(e){r.error(e.message)}),n.on("regularUpdate",function(e){r.echo('<div style="color:'+e.color+'">'+e.message+"</div>",{raw:!0})}),n.on("downloadProgress",function(e){printProgress(r,e.percentage)}),""!==e){var t,a=$.terminal.parse_command("fishaman "+e),s=[],g=!0,l=!0,c=!1;let o=0;for(;o<a.args.length;)if(a.args[o]==arrArgs[0]||a.args[o]==arrArgs[1]){for(let e=o+1;e<a.args.length&&-1===arrArgs.indexOf(a.args[e]);e++)s.push(a.args[e]),o++;o++}else a.args[o]==arrArgs[2]?t=a.args[o+1]:a.args[o]==arrArgs[3]?l="true"===a.args[o+1]:a.args[o]==arrArgs[4]?c="true"===a.args[o+1]:a.args[o]==arrArgs[5]?g="true"===a.args[o+1]:r.error('wrong input "'+a.args[i]+'"'),o+=2;if(t&&s){const e={pm:t,modules:s.map(e=>{const r=e.split(":");return{name:r[0],ver:r[1]}}),incDeps:l,incDevDeps:c,incTypes:g};n.emit("fishmanRequest",e)}else r.error("--pm and --modules is required")}else r.echo("")},{greetings:"",name:"js_demo",height:.25*$(window).height(),prompt:"> fishman "});