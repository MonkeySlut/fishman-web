document.getElementById("terminal").focus();const xLogoScale=15,yLogoScale=8,xWaveScale=5,yWaveScale=5;var windowWidth=window.innerWidth,windowHeight=window.innerHeight,sitelogo=document.getElementById("fishmanLogo"),wave=document.getElementById("wave");document.onmousemove=function(a){var b=a.pageX/(windowWidth/2)-1,c=a.pageY/(windowHeight/2)-1,d=b*xLogoScale/2,e=c*yLogoScale/2,f=b*xWaveScale/2*-1,g=c*yWaveScale/2*-1;sitelogo.style.transform="translate("+d+"px, "+e+"px)",wave.style.backgroundPositionX=f+"px",wave.style.backgroundPositionY="calc(100% + ("+g+"px))"};var printProgress=function(a,b){if(b<=100){var g,c=a.cols()-10,d=Math.round(c*b/100),e="",f="";for(g=d;g--;)f+="#";for(g=c-d;g--;)e+="-";a.set_prompt("["+f+e+"] "+b+"%"),100==b&&a.set_prompt("> fishman ")}},downloadFileFromBlob=function(){var a=document.createElement("a");return document.body.appendChild(a),a.style="display: none",function(b,c){var d=new Blob(b,{type:"octet/stream"}),e=window.URL.createObjectURL(d);a.href=e,a.download=c,a.click(),window.URL.revokeObjectURL(e)}}();$("#terminal").terminal(function(a,b){var c=io.connect(),d=0;if(fileBuffer=[],c.on("finalDownloadToClientMD",function(a){ss(c).on("finalDownloadToClient",function(c){c.on("data",function(c){d+=c.length,fileBuffer.push(c);var e=(d/a*100).toFixed(2);printProgress(b,e)}),c.on("end",function(){printProgress(b,100);var a=new Uint8Array(d),c=0;fileBuffer.forEach(function(b){for(var d=0;d<b.length;d++)a[c]=b[d],c++}),downloadFileFromBlob([a],l.module+".tar")})})}),c.on("criticalError",function(a){b.error(a.message)}),c.on("regularUpdate",function(a){b.echo('<div style="color:'+a.color+'">'+a.message+"</div>",{raw:!0})}),c.on("downloadProgress",function(a){printProgress(b,a.percentage)}),""!==a){var e=$.terminal.parse_command("fishaman "+a);if(e.args.length%2==0){for(var f,g,h,i,j,k=0;k<e.args.length;k+=2)"--pm"==e.args[k]?f=e.args[k+1]:"--module"==e.args[k]||"-m"==e.args[k]?g=e.args[k+1]:"--version"==e.args[k]||"-v"==e.args[k]?h=e.args[k+1]:"--deps"==e.args[k]?i=e.args[k+1]:"--dev"==e.args[k]?j=e.args[k+1]:b.error('wrong input "'+e.args[k]+'"');if(f&&g){var l={pm:f,module:g};i&&(l.incDeps=i),j&&(l.incDevDeps=j),h&&(l.version=h),c.emit("fishmanRequest",l)}else b.error("--pm and --module is required")}else b.error("expected an even number of args")}else b.echo("")},{greetings:"",name:"js_demo",height:.25*$(window).height(),prompt:"> fishman "});